"use strict";function getLastPathSegment(){return new URLSearchParams(window.location.search.slice(1)).get("code")}function doRequest(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===this.readyState&&(200===this.status?t(this):n(this))},o.open("GET",e,!0),o.send()}function load(n){doRequest("https://api.cardcastgame.com/v1/decks/"+n+"/calls",function(e){var t=e.responseText;doRequest("https://api.cardcastgame.com/v1/decks/"+n+"/responses",function(e){loaded(n,JSON.parse(t),JSON.parse(e.responseText))},function(e){error(e)})},function(e){error(e)})}function error(e){console.debug(e);var t=document.getElementById("error");t.style.display=null,400===e.status?t.innerHTML="404: Not found":t.innerHTML=e.status}function generateLink(e,t){return window.URL.createObjectURL(new Blob([e],{type:t}))}function createLinkElm(e,t,n,o){var a=document.createElement("span");a.innerHTML=e,a.className="mdc-button__label";var s=document.createElement("button");s.appendChild(a),s.className="mdc-button mdc-button--outlined",mdc.ripple.MDCRipple.attachTo(s);var r=document.createElement("a");return r.appendChild(s),r.className="mb10",r.download=t,r.href=generateLink(n,o),r}function addLinks(e,t,n,o,a,s,r){callsContainer.appendChild(createLinkElm(e,"calls_"+n+o,t(s),a)),responsesContainer.appendChild(createLinkElm(e,"responses_"+n+o,t(r),a))}function toSimplified(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].text.join("_"));return JSON.stringify(t)}function toText(e){for(var t="",n=0;n<e.length;n++)t+=e[n].text.join("_")+"\r\n";return t}function loaded(e,t,n){addLinks("Download original JSON",JSON.stringify,e,"_original.json","application/json",t,n),addLinks("Download simplified JSON",toSimplified,e,"_simplified.json","application/json",t,n),addLinks("Download as text",toText,e,"_text.txt","text/plain",t,n),document.getElementById("content").style.display=null}var callsContainer=document.getElementById("calls"),responsesContainer=document.getElementById("responses"),code=getLastPathSegment();console.debug(code),doRequest("https://api.cardcastgame.com/v1/decks/"+(document.getElementById("code").innerHTML=code),function(e){var t=JSON.parse(e.responseText);document.getElementById("packName").innerText=t.name,document.getElementById("packName").href="https://www.cardcastgame.com/browse/deck/"+code},function(e){error(e)}),load(code);
//# sourceMappingURL=code.min.js.map